# Что нужно сделать
## Задание 1. Идентифицируйте сущности. 
На основе анализа предметной области и спроектированных микросервисов определите основные сущности вашей системы.

Пользователь — User,
Дом — House,
Устройство — Device,
Тип устройства — DeviceType,
Модуль — Module,
Телеметрия — TelemetryData,
Команда - DeviceCommand,
Экосистема устройства - EcosystemDevice,


## Задание 2. Определите атрибуты. 
### Описание задачи
Для каждой сущности определите необходимые атрибуты. Пример для сущности «Устройство»:
id — уникальный идентификатор устройства.
type_id — идентификатор типа устройства — внешний ключ к таблице DeviceType.
house_id — идентификатор дома, к которому принадлежит устройство — внешний ключ к таблице House.
serial_number — серийный номер устройства.
status — текущее состояние устройства (включено/выключено).

Опишите связи. Определите связи между сущностями (один-к-одному, один-ко-многим, многие-ко-многим).
Например:
Пользователь — Дом: один пользователь может иметь доступ к нескольким домам, но каждый дом связан только с одним пользователем.
Дом — Устройство: один дом может содержать несколько устройств, и каждое устройство принадлежит только одному дому.
Устройство — Телеметрия: одно устройство может генерировать множество записей телеметрии.

### Решение

#### 1. Пользователь (User)
userId: String — уникальный идентификатор пользователя.
fullName: String — полное имя пользователя.
email: String — электронная почта (должна быть уникальной).
password: String — хешированный пароль.
phoneNumber: String — номер телефона.
role: String — роль пользователя (например, администратор, обычный пользователь).
createdAt: DateTime — дата и время создания учетной записи.
updatedAt: DateTime — дата и время последнего обновления учетной записи.

#### 2. Дом (House)
houseId: String — уникальный идентификатор дома.
ownerId: String — идентификатор владельца (внешний ключ к User).
address: String — адрес дома.
createdAt: DateTime — дата и время создания записи о доме.
updatedAt: DateTime — дата и время последнего обновления записи о доме.

#### 3. Устройство (Device)
deviceId: String — уникальный идентификатор устройства.
houseId: String — идентификатор дома, к которому принадлежит устройство (внешний ключ к House).
deviceTypeId: String — идентификатор типа устройства (внешний ключ к DeviceType).
ecosystemId: String — идентификатор типа устройства (внешний ключ к EcosystemDevice).
serialNumber: String — серийный номер устройства.
status: String — текущее состояние устройства (например, «включено», «выключено», «ошибка»).
createdAt: DateTime — дата и время создания записи об устройстве.
updatedAt: DateTime — дата и время последнего обновления записи об устройстве.

#### 4. Тип устройства (DeviceType)
deviceTypeId: String — уникальный идентификатор типа устройства.
name: String — название типа устройства (например, «термостат», «освещение»).
description: String — описание типа устройства.
protocols: List — поддерживаемые протоколы для данного типа устройства.
createdAt: DateTime — дата и время создания записи о типе устройства.
updatedAt: DateTime — дата и время последнего обновления записи о типе устройства.

#### 5. Модуль (Module)
moduleId: String — уникальный идентификатор модуля.
deviceId: String — идентификатор устройства, к которому принадлежит модуль (внешний ключ к Device).
name: String — название модуля.
parameters: Map<String, Object> — дополнительные параметры модуля.
createdAt: DateTime — дата и время создания записи о модуле.
updatedAt: DateTime — дата и время последнего обновления записи о модуле.

#### 6. Телеметрия (TelemetryData)
telemetryId: String — уникальный идентификатор записи телеметрии.
deviceId: String — идентификатор устройства (внешний ключ к Device).
timestamp: DateTime — время записи телеметрии.
data: Map<String, Object> — данные телеметрии (например, температура, влажность).

#### 7. Команда (DeviceCommand)
commandId: String — уникальный идентификатор команды.
deviceId: String — идентификатор устройства, на которое отправляется команда (внешний ключ к Device).
action: String — действие, которое должно быть выполнено устройством (например, «включить», «выключить», «установить температуру»).
parameters: Map<String, Object> — дополнительные параметры, необходимые для выполнения действия.
status: String — статус выполнения команды (например, «ожидается», «выполнено», «ошибка»).
createdAt: DateTime — дата и время создания записи о команде.

#### 8. Экосистема устройства (EcosystemDevice)
ecosystemId: String — уникальный идентификатор состояния устройства.
name: String — название экосистемы устройства.
status: String — текущее состояние устройства (например, «полностью поддерживается», «ограниченно поддерживается», «не поддерживается»).
timestamp: DateTime — время записи статуса.


#### Связи между сущностями
Пользователь (User) — Дом (House): Связь: Один ко многим (1:M)
Описание: Один пользователь может владеть несколькими домами, но каждый дом принадлежит только одному пользователю.

Дом (House) — Устройство (Device): Связь: Один ко многим (1:M)
Описание: Один дом может содержать несколько устройств, и каждое устройство принадлежит только одному дому.

Тип устройства (DeviceType) — Устройство (Device): Связь: Один ко многим (1:M)
Описание: Один тип устройства может соответствовать многим устройствам, но каждое устройство может быть только одного типа.

Устройство (Device) — Модуль (Module): Связь: Один ко многим (1:M)
Описание: Каждое устройство может иметь несколько модулей, но каждый модуль принадлежит только одному устройству.

Устройство (Device) — Телеметрия (TelemetryData): Связь: Один ко многим (1:M)
Описание: Каждое устройство может генерировать множество записей телеметрии.

Устройство (Device) — Команда (DeviceCommand): Связь: Один ко многим (1:M)
Описание: Каждое устройство может иметь множество команд, отправленных на него.

Экосистема устройства (EcosystemDevice) - Устройство (Device): Связь: Один ко многим (1:M)
Описание: Каждое экосистема устройств может иметь множество устройств у себя, но одно устройство не может относиться к нескольким экосистемам.


## Задание 3. Постройте ER-диаграмму. 
Используйте PlantUML для создания ER-диаграммы на основе определённых сущностей, атрибутов и связей.

Решение находится в виде файла er.puml на уровне текущей директории.